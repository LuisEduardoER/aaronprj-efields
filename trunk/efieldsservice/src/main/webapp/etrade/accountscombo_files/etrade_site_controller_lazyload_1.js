Et1.oView.Strings.Network={S_RESPONSE_HAS_STATUS:"Response has status ",S_PLEASE_WAIT:"<div class='notice-box in-progress'><img src='/images/hist_32.gif' class='user-alert-icon' /> <div class='icon-message'>Please wait while we retrieve your information.</div></div>",S_UNAVAILABLE:"<div class='notice-box attention'><img src='/images/i_attention.gif' class='user-alert-icon' /> <div class='icon-message'>This information is currently unavailable.</div></div>"};Et1.oModel.oMessenger.oRequest.IHTTPBasic=Et1.oLang.Class.getInterface({},{S_DATATYPE:"etrade1.js.framework.model.messenger.request.IHTTPBasic",I_OK:200,I_REDIRECTION:300,I_CLIENT_ERROR:400,I_NOT_FOUND:404,I_INTERNAL_ERROR:500,S_LOCATION:"Location",S_GET:"GET",S_POST:"POST"});(Et1.oController.oUtils.ScriptInstaller=Et1.oLang.Class.getConstructor(Object,{S_DATATYPE:"et1.js.framework.controller.utils.ScriptInstaller",S_SCRIPT:"script",S_SRC:"src",S_NOTIFIER_CODE:".notifyInlineScriptsInstalled();",S_LB:"\n",RXP_SKIP_NEXT_SCRIPT:/^\s*\/\/\sSkip\sinline-script\sinstall\son\sthe\snext\sscript\stag\./,S_ERR_1:"Error while installing inline script code.  Error message is: ",S_ERR_2:"<br/><br/>Inline script code is: ",init:function(c,b,d,a){this.ndScriptsContainer=c;this.wWindow=d?d:window;this.sNotifierCode=this.S_LB+b+this.S_NOTIFIER_CODE;this.oMessenger=a;this.iCalls=0},installScripts:function(){var a,b;this.oAllScriptTags=this.ndScriptsContainer.getElementsByTagName(this.S_SCRIPT);this.aAllScriptTags=this.toArray(this.oAllScriptTags);this.iTotalNumberOfScriptTags=this.aAllScriptTags.length;this.iDone=0;a=this.aAllScriptTags.length;while(a--){b=this.aAllScriptTags[a]}this.prv_installScripts()},prv_installScripts:function(){var i=this,h,a,k,j,g;function e(p){var o,l=[],m=p.length,n=0;for(;n<m;n++){o=p[n];if((o.hasAttribute&&!o.hasAttribute(i.S_SRC))||!o.src){l.push(o)}else{return l}}return l}function d(m){var q=m,n=q.length,p=0,l=new Array(n+1),r,o=false;for(;p<n;p++){if(o){o=false;continue}r=q[p];if(r.previousSibling&&r.previousSibling.tagName){if(r.previousSibling.tagName.toLowerCase()==i.S_SCRIPT&&i.RXP_SKIP_NEXT_SCRIPT.test(r.previousSibling.innerHTML)){o=true;continue}}l[p]=r.innerHTML}l[n]=i.sNotifierCode;return l.join("")}function f(m){var l;if(i.wWindow.execScript){try{i.wWindow.execScript(m)}catch(n){l=i.S_ERR_1+n.message+i.S_ERR_2+m;log(l)}}else{try{i.wWindow.setTimeout(m,0)}catch(n){l=i.S_ERR_1+n.message+i.S_ERR_2+m;log(l)}}}function c(o){var n,l=o.length,m=0;for(;m<l;m++){n=o[m];if((n.hasAttribute&&n.hasAttribute(i.S_SRC))||n.src){return n}}return null}function b(m){var n=Et1.oDom.Document.getDocument(i.wWindow),l=n.createComment("Moved js include '"+m.src+"' to 'head' tag for lazy-loading.");m.parentNode.insertBefore(l,m);m.parentNode.removeChild(m);i.oMessenger.send(m.src,i,"eventScriptIncludeLoaded",null,null,null,i.oMessenger.H_TRANSPORT_NAMES.S_SCRIPT_INCLUDE_PLAIN)}a=this.aAllScriptTags.slice(this.iDone);j=e(a);if(j&&j.length){this.iDone+=j.length;f(d(j));return}k=c(a);if(k){this.iDone++;b(k);return}this.emitEvent(new arguments.callee.ownerClass.EventScriptsInstalled(this))},notifyInlineScriptsInstalled:function(){this.prv_installScripts()},eventScriptIncludeLoaded:function(a){this.prv_installScripts()},toArray:function(b){var a=b.length,c=new Array(a);while(a--){c[a]=b[a]}return c}})).extend({EventScriptsInstalled:function(a){this.S_DATATYPE="et1.js.framework.controller.utils.ScriptInstaller.EventScriptsInstalled";this.sType="scriptsinstalled";this.oTarget=a}});(Et1.oController.oUtils.LazyLoader=Et1.oLang.Class.getConstructor(Object,{S_DATATYPE:"et1.js.framework.controller.utils.LazyLoader",S_EVENT_PLAIN_UPDATE:"eventPlainUpdate",S_EVENT_SEQUENTIAL_UPDATE:"eventSequentialUpdate",RXP_DEFER:/(<script\s)>/g,baseInit:function(){this.oMechanism=new Et1.oController.oUtils.LazyLoader.XmlHttp()},init:function(d,c,a,e,b){this.oMechanism=a?a:this.oMechanism;this.oMessenger=c;this.aTargetList=d;this.aDumpTargets=[];this.bSequentialLoading=e;this.sUnavailableMsg=b?b:Et1.oView.Strings.Network.S_UNAVAILABLE},start:function(){var a=this.aTargetList,c=a.length,e,b,d;if(this.bSequentialLoading){this.prv_advanceAheadSequentially(a)}else{while(c--){d=a[c];b=document.getPreparedElement(d.sId);if(b){e=this.showData(d.sUri);this.aDumpTargets[e]=b}}}},eventPlainUpdate:function(c){var b=c.oResponse,d=c.iSerialNumber,a=this.aDumpTargets[d];if(b.status!=this.I_OK){if((b.status>=this.I_REDIRECTION)&&(b.status<this.I_CLIENT_ERROR)){document.location.href=b.getResponseHeader(this.S_LOCATION);return}log(Et1.oView.Strings.Network.S_RESPONSE_HAS_STATUS+b.status);a.innerHTML=this.sUnavailableMsg;return}a.innerHTML=b.responseText;this.emitLazyLoadedEvent(c,a)},eventSequentialUpdate:function(c){var b=c.oResponse,d=c.iSerialNumber,a=this.ndCurrTarget;if(b.status!=this.I_OK){log(Et1.oView.Strings.Network.S_RESPONSE_HAS_STATUS+b.status);a.innerHTML=this.sUnavailableMsg}else{a.innerHTML=b.responseText.replace(this.RXP_DEFER,'<script defer="true" ')}this.emitLazyLoadedEvent(c,a);this.prv_advanceAheadSequentially(this.aTargetList)},showData:function(a){return(this.oMessenger.send(a,this,this.S_EVENT_PLAIN_UPDATE,this.oMechanism.sMethod))[0]},showTopData:function(a){this.oMessenger.send(a,this,this.S_EVENT_SEQUENTIAL_UPDATE,this.oMechanism.sMethod)},emitLazyLoadedEvent:function(c,b){var a=new arguments.callee.ownerClass.EventLazilyLoaded(c.oResponse,c.iSerialNumber,this,b,null);this.emitEvent(a)},prv_advanceAheadSequentially:function(b){var a=b.shift();this.ndFormerTarget=this.ndCurrTarget;if(a){this.ndCurrTarget=document.getPreparedElement(a.sId);if(!this.ndFormerTarget){this.ndFormerTarget=this.ndCurrTarget}this.showTopData(a.sUri)}}},[Et1.oModel.oMessenger.oRequest.IHTTPBasic])).extend({Widget:function(a,b){this.sId=a;this.sUri=b},XmlHttp:function(a,b){this.sMethod=a?a:Et1.oModel.oMessenger.oRequest.IHTTPBasic.S_GET;this.bASync=defined(b)?b:true},EventLazilyLoaded:function(d,a,e,c,b){this.S_DATATYPE="et1.js.framework.controller.utils.LazyLoader.EventLazilyLoaded";this.sType="lazilyloaded";this.oTarget=e;this.oResponse=d;this.iSerialNumber=a;this.oScriptInstaller=b;this.ndDomTarget=c}});(Et1.oController.oUtils.LazyLoaderInlineScript=Et1.oLang.Class.getConstructor(Et1.oController.oUtils.LazyLoader,{S_DATATYPE:"et1.js.framework.controller.utils.LazyLoaderInlineScript",S_SCRIPTS_INSTALLED:"scriptsinstalled",S_SI_REFERENCE:"oScriptInstaller_",iScriptInstallerSN:0,init:function(d,c,b,a,e){arguments.callee.superClass.init.call(this,d,c,b,e);this.sLLReference=a;this.hScriptInstallations={}},eventPlainUpdate:function(a){var b=a.iSerialNumber;arguments.callee.superClass.eventPlainUpdate.call(this,a);this.prv_setScriptInstallation(a.oResponse,b,this.aDumpTargets[b])},eventSequentialUpdate:function(a){arguments.callee.superClass.eventSequentialUpdate.call(this,a);this.prv_setScriptInstallation(a.oResponse,a.iSerialNumber,this.ndFormerTarget)},eventScriptsInstalled:function(b){var c=this.hScriptInstallations[b.oTarget.S_UNIQUE_ID],a=new arguments.callee.superClass.fnConstr.EventLazilyLoaded(c.oResponse,c.iSerialNumber,this,c.ndDomTarget,c.oScriptInstaller);this.emitEvent(a)},emitLazyLoadedEvent:function(b,a){},prv_setScriptInstallation:function(f,b,d){var a=arguments.callee.ownerClass.ScriptInstallation,c,g=this.S_SI_REFERENCE+this.iScriptInstallerSN++,e=this.sLLReference+"."+g;this[g]=c=new Et1.oController.oUtils.ScriptInstaller(d,e,null,this.oMessenger);c.addEventListener(this.S_SCRIPTS_INSTALLED,this.eventScriptsInstalled,this);this.hScriptInstallations[c.S_UNIQUE_ID]=new a(f,b,d,c);c.installScripts()}})).extend({ScriptInstallation:function(d,a,c,b){this.oResponse=d;this.iSerialNumber=a;this.ndDomTarget=c;this.oScriptInstaller=b}});Et1.oController.BareController=Et1.oLang.Class.getConstructor(Object,{S_DATATYPE:"etrade1.js.framework.controller.BareController",bSingleton:true,init:function(){this.oC=Et1.oModel.oPage.oConfig;this.fnPrep=Element.prep;this.ndBody=this.fnPrep(document.getElementsByTagName("body")[0])},eventResize:function(a){},eventBeforeUnload:function(a){}});Et1.oController.Controller=Et1.oLang.Class.getConstructor(Et1.oController.BareController,{S_DATATYPE:"et1.js.framework.controller.Controller",I_SYNC_WITH_URL_INTERVAL_MS:500,iSyncInterval:null,init:function(){arguments.callee.superClass.init.call(this);this.setSyncInterval();if(Et1.oModel.oMessenger.Messenger){this.oMessenger=new Et1.oModel.oMessenger.Messenger()}if(this.oC.oComponent){this.oComponentManager=new Et1.oController.oComponent.ComponentManager(this.oC,this.oMessenger)}if(Et1.oModel.oMessenger.EZRequester){this.oEZRequester=new Et1.oModel.oMessenger.EZRequester(this.oMessenger);this.oEZRequester.addEventListener("ezrequestreceived",this.eventEZRequestReceived,this);if(this.oC&&this.oC.aRequiredXmlFiles){this.oEZRequester.makeXmlHttpRequests(this.oEZRequester.getRequestsFromConfig(this.oC.aRequiredXmlFiles,true))}}window.addEventListener("resize",this.eventResize,this);this.fnBeforeUnloadListener=window.addEventListener("beforeunload",this.eventBeforeUnload,this)},eventSyncAppState:function(a){},eventEZRequestReceived:function(a){},setSyncInterval:function(){var a=this.S_UNIQUE_ID;this.clearSyncInterval();function b(){this.sourceId=a;if(typeof arguments.callee.iCount=="undefined"){arguments.callee.iCount=0}else{arguments.callee.iCount++}}this.iSyncInterval=Et1.setEventEmittingInterval(this.eventSyncAppState,this,b,this.I_SYNC_WITH_URL_INTERVAL_MS)},clearSyncInterval:function(){if(this.iSyncInterval!=null){clearInterval(this.iSyncInterval);this.iSyncInterval=null}},removeBeforeUnloadListener:function(){window.removeEventListener("beforeunload",this.fnBeforeUnloadListener,false)},getRootDomain:function(){var d=document.domain,b=/(^|\.)([^\.]+\.[^\.]+)$/,a,c;a=d.match(b);if(a&&(a.length>1)){return a[2]}return""},downgradeDomain:function(){document.domain=this.getRootDomain()}});Et1.oController.LazyLoadWithInlineScript=Et1.oLang.Class.getConstructor(Et1.oController.Controller,{S_DATATYPE:"et1.js.framework.controller.LazyLoadWithInlineScript",S_LL_REFERENCE:"Et1.oController.oApp.oLazyLoader",S_LAZILY_LOADED:"lazilyloaded",init:function(){arguments.callee.superClass.init.call(this)},eventAppBooted:function(){var a=this;function b(){var f=0,e,d,c,k,g,h,l,j;e=a.oC.oLazyLoader;g=e.aWidgets;d=g.length;c=e.sDomain;k=[];f=0;for(;f<d;f++){j=g[f];k[f]=new Et1.oController.oUtils.LazyLoader.Widget(j.sId,(c+j.sUri))}a.oLazyLoader=new Et1.oController.oUtils.LazyLoaderInlineScript(k,a.oMessenger,null,a.S_LL_REFERENCE,true);a.oLazyLoader.addEventListener(a.S_LAZILY_LOADED,a.eventLazilyLoaded,a);a.oLazyLoader.start()}if(this.oC){if(this.oC.oLazyLoader){b()}}},eventLazilyLoaded:function(a){}});Et1.oController.oSite.oEtrade.Controller=Et1.oLang.Class.getConstructor(Et1.oController.LazyLoadWithInlineScript,{S_DATATYPE:"et1.js.framework.controller.site.etrade.Controller",init:function(){arguments.callee.superClass.init.call(this);var e=this,b,a,d,c;function f(g){this.S_DATATYPE="et1.js.framework.controller.site.etrade.Controller.AutoLogOffEvent";this.oTarget=g;this.sType="autologoffevent"}a=Et1.getHandler(function(){this.eventAutoLogOff()},this);b=Et1.aEventTargetIds.length;d=function(){var g=Et1.getEventTarget(b);a(new f(g))};this.S_ROOT_DOMAIN=this.getRootDomain();if(this.oC){window.setTimeout(d,(this.oC.iLogOffTimeoutMS-this.oC.iNetworkLatencyMS))}},eventAutoLogOff:function(a){}});